  // Complete Library Data in JSON Format
        const libraryData = {
            "sections": [
                {
                "id": "history",
                "title": "Library History",
                "icon": "fa-history",
                "description": "A Legacy of Knowledge and Academic Excellence",
                "content": [
                    {
                    "type": "text",
                    "value": "The Central Library is located in the first floor of the Anatomy block of this institution. It has a floor area of 3162.00 Sq.mts. The Library is well illuminated and fully air conditioned, providing a peaceful ambience free from noise."
                    },
                    {
                    "type": "text",
                    "value": "All library operational services have been automated using Windows-based technology with KOHA software integrated with RFID technology. The software includes modules for transactions, queries, administration, gate entry, reporting, and search."
                    },
                    {
                    "type": "stats",
                    "items": [
                        { "icon": "fa-calendar-check", "value": "2009", "label": "Year Established" },
                        { "icon": "fa-book", "value": "16314+", "label": "Books Available (2025)" }
                    ]
                    },
                    {
                    "type": "subtitle",
                    "value": "Milestones in Our Journey"
                    },
                    {
                        "type": "resources",
                        "items": [
                            {
                                "icon": "fa-building",
                                "title": "2009",
                                "description": "Library inaugurated with 2,980 books and 24 print journals."
                            },
                            {
                                "icon": "fa-cogs",
                                "title": "2010",
                                "description": "Partially automated using the Integrated Library Management System."
                            },
                            {
                                "icon": "fa-globe",
                                "title": "2010",
                                "description": "Access to WHO Global Subscriptions enabled."
                            },
                            {
                                "icon": "fa-university",
                                "title": "2013",
                                "description": "Gained access to Dr. MGR Medical University E-Consortium."
                            },
                            {
                                "icon": "fa-network-wired",
                                "title": "2018",
                                "description": "Access to DELNET E-Resources introduced."
                            },
                            {
                                "icon": "fa-microchip",
                                "title": "2022",
                                "description": "Fully automated with KOHA software integrated with RFID technology."
                            },
                            {
                                "icon": "fa-book",
                                "title": "2023",
                                "description": "Access to international journals from ProQuest and BMJ."
                            },
                            {
                                "icon": "fa-file-medical",
                                "title": "2024",
                                "description": "Access to BMJ E-Journals, Research to Publications, and Best Practice."
                            },
                            {
                                "icon": "fa-chart-line",
                                "title": "2025",
                                "description": "Collection expanded to 16,314 books, 50 international print journals, and 65 Indian print journals."
                            }
                        ]
                    }
                ]
                },

                {
                "id": "librarian",
                "title": "Chief Librarian",
                "icon": "fa-user-tie",
                "description": "Leadership & Professional Support",
                "content": [
                    {
                    "type": "profile",
                    "name": "S. MEENAKSHI",
                    "designation": "Chief Librarian",
                    "image": "./assets/images/library/librarian.jpg",
                    "bio": [
                        "An experienced library professional leading the Central Library operations with expertise in Library Automation and academic resource services.",
                        "Responsible for maintaining digital systems, resource management, and ensuring seamless access to learning materials for students and faculty."
                    ],
                    "contact": [
                        { "icon": "fa-envelope", "text": "library@mc.srmtrichy.edu.in" },
                        { "icon": "fa-phone", "text": "0431-2258657" },
                        { "icon": "fa-clock", "text": "Office Hours: 8:00 AM to 4:00 PM" }
                    ]
                    },

                    {
                    "type": "subtitle",
                    "value": "Library Staff"
                    },
                    {
                    "type": "table",
                    "headers": ["Name", "Designation", "Specialization", "Experience"],
                    "rows": [
                        ["Mrs. S. Meenakshi", "Chief Librarian", "Library Automation", "23 years"],
                        ["Mr. G. Ramkumar", "Asst. Librarian", "Library Automation", "9 years"],
                        ["Mr. R. Kathirvel", "Library Assistant", "Library Digitalisation", "7 years"],
                        ["Mr. K. Suresh", "Library Assistant", "Library Automation", "5 years"],
                        ["Ms. T. Rokkaiya Thinoor", "Library Assistant", "Classification", "6 months"]
                    ]
                    }
                ]
                },

                {
                "id": "collection",
                "title": "Library Collection",
                "icon": "fa-book",
                "description": "Vast Academic Resources",
                "image":[
                    "6.jpg",
                    "5.jpg"
                ],
                "imgtitle":"Our Library Collection",
                "content": [
                    {
                    "type": "stats",
                    "items": [
                        { "icon": "fa-book", "value": "16314+", "label": "Books" },
                        { "icon": "fa-journal-whills", "value": "115+", "label": "Print Journals" },
                        { "icon": "fa-globe", "value": "E-Resources", "label": "BMJ, DELNET, E-Consortium" }
                    ]
                    },
                    {
                    "type": "subtitle",
                    "value": "Statistical Collection"
                    },
                    {
                    "type": "text",
                    "value": "E-Books: 8000+, E-Journals: 18000+, Multimedia Resources: 2000+"
                    },

                    {
                    "type": "subtitle",
                    "value": "Subject-wise Collection"
                    },
                    {
                    "type": "table",
                    "headers": ["Subject Area", "Number of Books", "Latest Edition", "Reference Books"],
                    "rows": [
                        ["Anatomy", "973", "Yes", "210"],
                        ["Physiology", "587", "Yes", "150"],
                        ["Biochemistry", "730", "Yes", "182"],
                        ["Community Medicine", "1830", "Yes", "337"],
                        ["Pathology", "751", "Yes", "190"],
                        ["Microbiology", "956", "Yes", "195"],
                        ["Pharmacology", "873", "Yes", "180"],
                        ["Forensic Medicine", "484", "Yes", "130"],
                        ["General Medicine", "2311", "Yes", "225"],
                        ["Pediatric Medicine", "862", "Yes", "170"],
                        ["General Surgery", "656", "Yes", "160"],
                        ["Orthopedics", "564", "Yes", "140"],
                        ["Obstetrics and Gynecology", "877", "Yes", "180"],
                        ["Ear, Nose and Throat", "398", "Yes", "120"],
                        ["Ophthalmology", "480", "Yes", "125"],
                        ["Radiology", "603", "Yes", "145"],
                        ["Anesthesia", "430", "Yes", "110"],
                        ["Respiratory Medicine", "320", "Yes", "105"],
                        ["Dermatology", "374", "Yes", "105"],
                        ["Psychiatry", "431", "Yes", "108"],
                        ["Dentistry", "135", "Yes", "20"],
                        ["Plastic Surgery", "56", "Yes", "20"],
                        ["Emergency Medicine", "230", "Yes", "80"],
                        ["Medical Education", "40", "Yes", "10"],
                        ["General Books", "363", "", "20"]
                    ]
                    }
                ]
                },

                {
                "id": "rare-books",
                "title": "Featured Rare Books",
                "icon": "fa-book-open",
                "description": "Unique Knowledge Resources",
                "content": [
                   {
                            type: "info-cards",
                            items: [
                                {
                                    icon: "fa-box",
                                    title: "Archives Section",
                                    description: "Archives-related books donated by faculty from OG, MCH Division, Dermatology, Community Health."
                                },
                                {
                                    icon: "fa-book",
                                    title: "Yoga books",
                                    description: "Yoga books and Tamil literature collections."
                                }
                            ]
                        }
                ]
                },

                {
                "id": "e-resources",
                "title": "E-Resources",
                "icon": "fa-laptop",
                "description": "Digital Academic Resources",

                "content": [
                    {
                            type: "resources",
                            items: [
                                {
                                    icon: "fa-database",
                                    title: "BMJ Best Practice",
                                    description: "It helps healthcare professionals make informed decisions at the point of care with regularly updated, trusted information."
                                },
                                {
                                    icon: "fa-microscope",
                                    title: "Research to Publication",
                                    description: "It supports students, faculty, and researchers in producing high-quality, ethical, and publishable scientific work."
                                },
                                {
                                    icon: "fa-key",
                                    title: "Clinical Key",
                                    description: "It helps healthcare professionals make informed decisions by providing fast, reliable, and updated medical knowledge."
                                },
                                {
                                    icon: "fa-book-reader",
                                    title: "Elsevier Journals Collection.",
                                    description: "It supports learning, research, and clinical practice with reliable, up-to-date scholarly content."
                                },
                                {
                                    icon: "fa-graduation-cap",
                                    title: "DELNET",
                                    description: "(Developing Library Network) provides access to a vast network of libraries, offering shared resources, union catalogues, and interlibrary loan services."
                                },
                                {
                                    icon: "fa-building",
                                    title: "E-Consortium",
                                    description: "Dr. MGR Medical University E-Consortium supports academic excellence by providing reliable, curriculum-aligned content for students, faculty, and researchers"
                                }
                            ]
                        }
                ]
                },

                {
                "id": "digital",
                "title": "Digital Library",
                "icon": "fa-cloud",
                "description": "Technology-Driven Learning Spaces",
                "content": [
                    {
                    "type": "text",
                    "value": "Browsing centre is air-conditioned with 64 terminals. Faculty, students, and researchers can access book availability, journals, and digital resources."
                    },

                    {
                    "type": "subtitle",
                    "value": "Digital Library Features"
                    },
                        {
                            type: "info-cards",
                            items: [
                            
                                {
                                    icon: "fa-wifi",
                                    title: "High-Speed Wi-Fi",
                                    description: "High-speed internet and computer systems"
                                },
                                {
                                    icon: "fa-print",
                                    title: "Printing facilities available",
                                    description: "Modern printing, scanning, and photocopying facilities with digital document management."
                                },
                                {
                                    icon: "fa-film",
                                    title: "WiFi connection",
                                    description: "Dedicated space for viewing educational videos, documentaries, and medical procedures."
                                },
                                {
                                    icon: "fa-tablet-alt",
                                    title: "Air-conditioned environment",
                                    description: "Lending service for tablets and e-readers preloaded with medical textbooks and journals."
                                }
                            ]
                        },
                        {
                            type: "subtitle",
                            value: "Digital Services"
                        },
                        {
                            type: "list",
                            items: [
                                "Online Catalogue (OPAC) Search books",
                                "Mobile App -  Access Library E-resources"
                            ]
                        },
                        {
                        "type": "subtitle",
                        "value": "Facility Details"
                        },
                        {
                        "type": "table",
                        "headers": ["Feature", "Description"],
                        "rows": [
                            ["Audio Visual Room", "With projector"],
                            ["Conference Hall", ""],
                            ["Multimedia Room", "Viewing educational CDs and medical procedures"]
                        ]
                        }
                    ]
                },

                {
                "id": "activities",
                "title": "Library Activities",
                "icon": "fa-calendar-alt",
                "description": "Programs & Annual Activities",
                "image":[
                    "1.jpg",
                    "2.jpg",
                    "3.jpg",
                    "4.jpg"
                ],
                "imgtitle":"Our Library Activities",
                "content": [
                    {
                    "type": "subtitle",
                    "value": "Regular Programs"
                    },
                    {
                        "type": "resources",
                        "items": [
                            {
                                "icon": "fa-calendar-check",
                                "title": "e-Consortium Meeting",
                                "description": "The Dr. MGR Medical University e-Consortium meeting conducted in June."
                            },
                            {
                                "icon": "fa-user-graduate",
                                "title": "National Librarian Day",
                                "description": "Celebration of National Librarian Day every August."
                            },
                            {
                                "icon": "fa-book-reader",
                                "title": "Library Orientation",
                                "description": "Orientation program for new students held in October."
                            },
                            {
                                "icon": "fa-calendar-week",
                                "title": "National Library Week",
                                "description": "National Library Week celebrations organized in November."
                            }
                        ]
                    }
                ]
                },

                {
                "id": "sections",
                "title": "Library Sections",
                "icon": "fa-sitemap",
                "description": "Well-Organized Reading Spaces",
                "content": [
                    {
                        "type": "info-cards",
                        "items": [
                            {
                                "icon": "fa-chair",
                                "title": "Inside Reading Section",
                                "description": "Seating capacity of 250 for students and readers."
                            },
                            {
                                "icon": "fa-chair",
                                "title": "Outside Reading Section",
                                "description": "Outdoor reading space with 250 seats."
                            },
                            {
                                "icon": "fa-user-tie",
                                "title": "Faculty Reading Section",
                                "description": "Dedicated reading area for faculty with 50 seats."
                            },
                            {
                                "icon": "fa-user-graduate",
                                "title": "PG Reading Section",
                                "description": "Exclusive reading space for postgraduate students with 50 seats."
                            },
                            {
                                "icon": "fa-book-open",
                                "title": "Journal Section",
                                "description": "Journal reading area with 32 seats."
                            },
                            {
                                "icon": "fa-archive",
                                "title": "Back Volume Section",
                                "description": "Section dedicated to archived and back-volume journals."
                            },
                            {
                                "icon": "fa-desktop",
                                "title": "Browsing Section",
                                "description": "Computer-enabled browsing and reference area."
                            }
                        ]
                    },

                    {
                    "type": "subtitle",
                    "value": "Library Timings & Rules"
                    },
                    {
                        "type": "resources",
                        "items": [
                            {
                                "icon": "fa-clock",
                                "title": "Working Hours",
                                "description": "8:00 AM to 8:00 PM. Library remains open on Sundays and holidays."
                            },
                            {
                                "icon": "fa-id-card",
                                "title": "ID Card Requirement",
                                "description": "Wear your ID card at all times inside the library."
                            },
                            {
                                "icon": "fa-barcode",
                                "title": "E-Gate Scanning",
                                "description": "ID card scanning is mandatory at the E-Gate."
                            },
                            {
                                "icon": "fa-volume-mute",
                                "title": "Maintain Silence",
                                "description": "Silence must be maintained inside the library premises."
                            },
                            {
                                "icon": "fa-tshirt",
                                "title": "Dress Code",
                                "description": "All users must follow the prescribed dress code."
                            },
                            {
                                "icon": "fa-ban",
                                "title": "Food & Drinks Prohibited",
                                "description": "No food or beverages are allowed inside the library."
                            },
                            {
                                "icon": "fa-book",
                                "title": "Book Handling",
                                "description": "Leave books on the table after use; do not reshelve them."
                            },
                            {
                                "icon": "fa-exclamation-triangle",
                                "title": "Book Safety",
                                "description": "Damaging library materials will result in disciplinary action."
                            },
                            {
                                "icon": "fa-mobile-alt",
                                "title": "Mobile Usage",
                                "description": "Avoid using mobile phones to maintain a quiet environment."
                            },
                            {
                                "icon": "fa-comment-dots",
                                "title": "Suggestions Welcome",
                                "description": "Users are encouraged to provide suggestions for improvement."
                            }
                        ]
                    }
                ]
                }
            ]
        }

        // Render Functions
        function renderSidebar() {
            const menu = document.getElementById('libSidebarMenu');
            menu.innerHTML = libraryData.sections.map((section, index) => `
                <li>
                    <a href="#${section.id}" 
                       onclick="showSection('${section.id}')" 
                       class="${index === 0 ? 'lib-active' : ''}">
                        <i class="fas ${section.icon}"></i> ${section.title}
                    </a>
                </li>
            `).join('');
        }

        function renderContent(item) {
            switch(item.type) {
                case 'text':
                    return `<p>${item.value}</p>`;
                
                case 'subtitle':
                    return `<h3>${item.value}</h3>`;
                
          
                
                case 'stats':
                    return `
                        <div class="lib-stats-grid">
                            ${item.items.map(stat => `
                                <div class="lib-stat-box">
                                    <i class="fas ${stat.icon}"></i>
                                    <h3>${stat.value}</h3>
                                    <p>${stat.label}</p>
                                </div>
                            `).join('')}
                        </div>
                    `;
                
                case 'list':
                    return `
                        <ul class="lib-features-list">
                            ${item.items.map(listItem => `
                                <li><i class="fas fa-check-circle"></i> ${listItem}</li>
                            `).join('')}
                        </ul>
                    `;
                
                case 'info-cards':
                    return `
                        <div class="lib-info-grid">
                            ${item.items.map(card => `
                                <div class="lib-info-card">
                                    <h4><i class="fas ${card.icon}"></i> ${card.title}</h4>
                                    <p>${card.description.replace(/\n/g, '<br>')}</p>
                                </div>
                            `).join('')}
                        </div>
                    `;
                
                case 'resources':
                    return `
                        <div class="lib-resources-grid">
                            ${item.items.map(resource => `
                                <div class="lib-resource-card">
                                    <div class="lib-resource-icon">
                                        <i class="fas ${resource.icon}"></i>
                                    </div>
                                    <h4>${resource.title}</h4>
                                    <p>${resource.description}</p>
                                </div>
                            `).join('')}
                        </div>
                    `;
                
                case 'profile':
                    return `
                        <div class="lib-librarian-profile">
                            <div class="lib-librarian-image">
                                <img src="${item.image}" alt="${item.name}">
                            </div>
                            <div class="lib-librarian-info">
                                <h3>${item.name}</h3>
                                <p class="lib-designation">${item.designation}</p>
                                <div class="lib-contact-info">
                                    ${item.contact.map(c => `
                                        <p><i class="fas ${c.icon}"></i> ${c.text}</p>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                
                case 'table':
                    return `
                        <div class="lib-table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        ${item.headers.map(h => `<th>${h}</th>`).join('')}
                                    </tr>
                                </thead>
                                <tbody>
                                    ${item.rows.map(row => `
                                        <tr>
                                            ${row.map((cell, index) => `<td data-label="${item.headers[index]}">${cell}</td>`).join('')}
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    `;
                
                default:
                    return '';
            }
        }

        function showSection(sectionId) {
            const section = libraryData.sections.find(s => s.id === sectionId);
            if (!section) return;

            const mainContent = document.getElementById('libMainContent');
            
            const contentHTML = `
                <div class="lib-library-section lib-active" id="${section.id}">
                    <div class="lib-section-header">
                        <div class="lib-section-header-content">
                            <h2>
                                <div class="lib-icon-large"><i class="fas ${section.icon}"></i></div>
                                ${section.title}
                            </h2>
                            <p>${section.description}</p>
                        </div>
                    </div>
                    ${ Array.isArray(section.image) && section.image.length > 0
                        ? 
                        `
                            <div class='library-overall'>
                                <h2>${section.imgtitle}</h2>
                                <div class="library-grid">
                                    ${
                                        section.image.map(img => `
                                            <div class="library-item">
                                                <div class="library-placeholder">
                                                    <img src="./assets/images/library/${img}" />
                                                </div>
                                            </div>
                                        `).join('')
                                    }
                                </div>
                            </div>
                        `
                        : ''
                    }
                    
                        <div class="lib-section-content">
                            ${section.content.map(item => renderContent(item)).join('')}
                        </div>
                </div>
            `;
            
            mainContent.innerHTML = contentHTML;
            
            // Update sidebar active state
            document.querySelectorAll('.lib-sidebar-nav a').forEach(link => {
                link.classList.remove('lib-active');
            });
            document.querySelector(`a[href="#${sectionId}"]`).classList.add('lib-active');
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderSidebar();
            
            // Check for hash in URL
            const hash = window.location.hash.slice(1);
            if (hash && libraryData.sections.find(s => s.id === hash)) {
                showSection(hash);
            } else {
                showSection(libraryData.sections[0].id);
            }
        });

        // Handle browser back/forward
        window.addEventListener('hashchange', () => {
            const hash = window.location.hash.slice(1);
            if (hash && libraryData.sections.find(s => s.id === hash)) {
                showSection(hash);
            }
        });

        // Export library data for external use
        window.libraryData = libraryData;